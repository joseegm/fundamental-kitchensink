<div class="tn-page">
    <header class="tn-action-bar">
        <h1 class="tn-action-bar__title">
            Table Sample
        </h1>
        <div class="tn-action-bar__actions">
            <div class="tn-action-bar__action-item">
                <button (click)="loadData()" class="tn-button tn-button--text tn-button--action-bar" [disabled]="!users">
                    <i class="material-icons tn-icon--medium">refresh</i>
                    Reset Data
                </button>
            </div>
        </div>
    </header>

    <article class="tn-page__content">
        <section class="tn-section">
            <div class="tn-panel" [attr.aria-busy]="!users ? 'true' : 'false'">
                <div class="tn-spinner" [attr.aria-hidden]="!users ? 'false' : 'true'" aria-label="Loading">
                    <div></div>
                </div>
                <div class="tn-panel__header">
                    <h1 class="tn-panel__title">
                        Users
                    </h1>
                    <div class="tn-panel__actions">
                        <button (click)="toggleVisibleSelected(true)" class="tn-button tn-button--text tn-button--icon" [disabled]="!someSelected()">
                            <i class="material-icons tn-icon--medium">visibility</i>
                        </button>
                        <button (click)="toggleVisibleSelected(false)" class="tn-button tn-button--text tn-button--icon" [disabled]="!someSelected()">
                            <i class="material-icons tn-icon--medium">visibility_off</i>
                        </button>
                        <button (click)="removeSelected()" class="tn-button tn-button--text tn-button--icon" [disabled]="!someSelected()">
                            <i class="material-icons tn-icon--medium">delete</i>
                        </button>
                    </div>
                </div>

                <table class="tn-table" style="min-width: 1290px;">
                    <thead>
                        <tr>
                            <th style="width: 6em;">
                                <input type="checkbox" (ngModelChange)="toggleSelectedAll($event)" [(ngModel)]="allSelected">
                            </th>
                            <th>Email</th>
                            <th>Username</th>
                            <th>Name</th>
                            <th style="width: 16em;">Status</th>
                            <th>Website</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let user of users; let i = index;" [attr.aria-selected]="user.selected">
                            <td>
                                <input type="checkbox" [(ngModel)]="user.selected">
                            </td>
                            <td>
                                <a routerLink="/table/{{ user.id }}">
                                    <b>{{ user.email }}</b>
                                </a>
                            </td>
                            <td>{{ user.username }}</td>
                            <td>{{ user.name }}</td>
                            <td>
                                <span *ngIf="user.locked" class="tn-badge tn-badge--pill tn-badge--error">
                                    Locked
                                </span>
                                <span *ngIf="user.visible" class="tn-badge tn-badge--pill tn-badge--success">
                                    Visible
                                </span>
                                <span *ngIf="!user.visible" class="tn-badge tn-badge--pill">
                                    Not Visible
                                </span>
                            </td>
                            <td>{{ user.website }}</td>
                            <td>
                                <div class="tn-has-float-right">
                                    <button (click)="toggleLocked(i)" class="tn-button tn-button--text tn-button--icon tn-button--small">
                                        <i *ngIf="!user.locked" class="material-icons">lock_outline</i>
                                        <i *ngIf="user.locked" class="material-icons">lock_open</i>
                                    </button>
                                    <button (click)="toggleVisibility(i)" class="tn-button tn-button--text tn-button--icon tn-button--small" [disabled]="user.locked">
                                        <i *ngIf="!user.visible" class="material-icons">visibility</i>
                                        <i *ngIf="user.visible" class="material-icons">visibility_off</i>
                                    </button>
                                    <button (click)="deleteItem(i)" class="tn-button tn-button--text tn-button--icon tn-button--small" [disabled]="user.locked">
                                        <i class="material-icons">delete</i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>
    </article>
</div>